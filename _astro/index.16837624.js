import{t as k,a as x,b as A,i as z,n as N,c as _,d as h,e as S,o as D,f as O}from"./index.c0dd6093.js";import{r as d,h as p,k as I,g as H,l as R,m as Y,o as j}from"./runtime-core.esm-bundler.009b6723.js";function b(e){var t;const n=h(e);return(t=n?.$el)!=null?t:n}const m=z?window:void 0;function g(...e){let t,n,r,i;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,r,i]=e,t=m):[t,n,r,i]=e,!t)return N;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const s=[],u=()=>{s.forEach(c=>c()),s.length=0},o=(c,f,v,w)=>(c.addEventListener(f,v,w),()=>c.removeEventListener(f,v,w)),a=p(()=>[b(t),h(i)],([c,f])=>{if(u(),!c)return;const v=_(f)?{...f}:f;s.push(...n.flatMap(w=>r.map(M=>o(c,w,M,v))))},{immediate:!0,flush:"post"}),l=()=>{a(),u()};return O(l),l}function C(){const e=d(!1);return Y()&&j(()=>{e.value=!0}),e}function T(e){const t=C();return I(()=>(t.value,!!e()))}function P(e,t={}){const{window:n=m}=t,r=T(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let i;const s=d(!1),u=l=>{s.value=l.matches},o=()=>{i&&("removeEventListener"in i?i.removeEventListener("change",u):i.removeListener(u))},a=H(()=>{r.value&&(o(),i=n.matchMedia(h(e)),"addEventListener"in i?i.addEventListener("change",u):i.addListener(u),s.value=i.matches)});return O(()=>{a(),o(),i=void 0}),s}function V(e,t,n={}){const{window:r=m,...i}=n;let s;const u=T(()=>r&&"ResizeObserver"in r),o=()=>{s&&(s.disconnect(),s=void 0)},a=I(()=>Array.isArray(e)?e.map(f=>b(f)):[b(e)]),l=p(a,f=>{if(o(),u.value&&r){s=new ResizeObserver(t);for(const v of f)v&&s.observe(v,i)}},{immediate:!0,flush:"post",deep:!0}),c=()=>{o(),l()};return O(c),{isSupported:u,stop:c}}function E(e){return typeof Window<"u"&&e instanceof Window?e.document.documentElement:typeof Document<"u"&&e instanceof Document?e.documentElement:e}const W={x:0,y:0,pointerId:0,pressure:0,tiltX:0,tiltY:0,width:0,height:0,twist:0,pointerType:null},X=Object.keys(W);function Q(e={}){const{target:t=m}=e,n=d(!1),r=d(e.initialValue||{});Object.assign(r.value,W,r.value);const i=s=>{n.value=!0,!(e.pointerTypes&&!e.pointerTypes.includes(s.pointerType))&&(r.value=D(s,X,!1))};if(t){const s={passive:!0};g(t,["pointerdown","pointermove","pointerup"],i,s),g(t,"pointerleave",()=>n.value=!1,s)}return{...k(r),isInside:n}}function L(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const n=e.parentNode;return!n||n.tagName==="BODY"?!1:L(n)}}function $(e){const t=e||window.event,n=t.target;return L(n)?!1:t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}const y=new WeakMap;function q(e,t=!1){const n=d(t);let r=null,i;p(x(e),o=>{const a=E(h(o));if(a){const l=a;y.get(l)||y.set(l,i),n.value&&(l.style.overflow="hidden")}},{immediate:!0});const s=()=>{const o=E(h(e));!o||n.value||(S&&(r=g(o,"touchmove",a=>{$(a)},{passive:!1})),o.style.overflow="hidden",n.value=!0)},u=()=>{var o;const a=E(h(e));!a||!n.value||(S&&r?.(),a.style.overflow=(o=y.get(a))!=null?o:"",y.delete(a),n.value=!1)};return O(u),I({get(){return n.value},set(o){o?s():u()}})}function G(e){const t=d(e?.element),n=d(e?.input),r=d(1);function i(){var s,u;if(!t.value)return;let o="";t.value.style.height="1px",r.value=(s=t.value)==null?void 0:s.scrollHeight,e?.styleTarget?h(e.styleTarget).style.height=`${r.value}px`:o=`${r.value}px`,t.value.style.height=o,(u=e?.onResize)==null||u.call(e)}return p([n,t],()=>R(i),{immediate:!0}),V(t,()=>i()),e?.watch&&p(e.watch,i,{immediate:!0,deep:!0}),{textarea:t,input:n,triggerResize:i}}function J(e={}){const{window:t=m,initialWidth:n=Number.POSITIVE_INFINITY,initialHeight:r=Number.POSITIVE_INFINITY,listenOrientation:i=!0,includeScrollbar:s=!0}=e,u=d(n),o=d(r),a=()=>{t&&(s?(u.value=t.innerWidth,o.value=t.innerHeight):(u.value=t.document.documentElement.clientWidth,o.value=t.document.documentElement.clientHeight))};if(a(),A(a),g("resize",a,{passive:!0}),i){const l=P("(orientation: portrait)");p(l,()=>a())}return{width:u,height:o}}export{J as a,q as b,G as c,Q as u};
